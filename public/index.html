<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>CORS Testpage powered by JSONPlaceholder</title>
  </head>
  <body>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script>
    $(document).ready(function(){

      getXMLHttpRequest = function() {
        var activeXVersions =  ["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP"];

        try {
          return new XMLHttpRequest();
        } catch (e) {
          for (var i=0; i < activeXVersions.length; i++) {
            try {
              return new ActiveXObject(activeXVersions[i]);
            } catch (a) {}
          }
        }
        return null;
      };

      xhr = getXMLHttpRequest();
      if (xhr === null) {
        console.log("XMLHttpRequest not available");
        return;
      }

      xhr.open("POST", 'http://api-dummy.blackbeans.io/posts', true);
      xhr.setRequestHeader("Content-type", "application/json");
      xhr.send(JSON.stringify({ body: 'foo', title: 'blah' }));
    });
    </script>
  </body>
</html>
